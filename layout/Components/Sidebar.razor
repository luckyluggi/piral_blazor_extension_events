@namespace Layout.Ui.Components

<aside class=@_sidebarClass>
    <div style="text-align: right;">
        <a @onclick=@CloseSidebar style="display: inline-block; padding: 0 10px; cursor: pointer;">x</a>
    </div>
    <div>
        <Extension Name="Layout.Sidebar.Top" Params=@_sidebarParams />
    </div>
</aside> 

@code {
    [Parameter]
    [PiralParameter("params")]
    public SidebarParams Parameters { get; set; }
    [Parameter]
    public bool IsOpen { get; set; } = false;
    [Parameter]
    public EventCallback<bool> IsOpenChanged { get; set; }

    SidebarParams _sidebarParams { get; set; } = new();
    string _sidebarClass { get => IsOpen ? "sidebar open" : "sidebar"; }

    public void CloseSidebar()
    {
        IsOpenChanged.InvokeAsync(false);
    }
}